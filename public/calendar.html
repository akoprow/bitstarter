<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Fitspector: your workout calendar</title>
    <link rel="stylesheet" type="text/css"
          href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap.min.css">

    <script type="text/javascript"
            src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js">
    </script>
    <script type="text/javascript"
            src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js">
    </script>
    <script type="text/javascript"
            src="//cdnjs.cloudflare.com/ajax/libs/d3/3.2.2/d3.v3.min.js">
    </script>
    <script type="text/javascript"
            src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.1/underscore-min.js">
    </script>
    <script type="text/javascript"
            src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js">
    </script>

    <style type="text/css">
      .choice {
        display: inline-block;
        margin-left: 2em;
      }
      #vis-calendar {
        margin-top: 2em;
        shape-rendering: crispEdges;
      }
      #vis-calendar .year {
        margin: auto;
        display: block;
      }
      #vis-calendar .yearLabel {
        font: 16px sans-serif;
      }
      #vis-calendar .year text {
        text-anchor: start
      }
      #vis-calendar .day {
        fill: #fff;
        stroke: #ccc;
        stroke-width: 1px;
      }
      #vis-calendar .month {
        fill: none;
        stroke: #000;
        stroke-width: 2px;
      }
      #vis-calendar .workout {
      }
      #selected-sport-filter {
        width: 130px;
      }
      .centered {
        text-align: center;
        margin-left: auto;
        margin-right: auto;
        display: block;
      }
      #sport-summary tr.icon {
        height: 50px;
      }
      #sport-summary .data {
        position: relative;
      }
      #sport-summary .data span {
        width: 48px;
        text-align: center;
        position: absolute;
        top: 0;
        font-size: 10pt;
      }
      #sport-summary .icon td.data img {
        position: absolute;
        display: inline-block;
        top: 0;
        width: 48px;
        height: 48px;
        max-width: 48px;
        border: 1px solid #333;
        border-radius: 10px;
        opacity: .8;
      }
      #sport-summary .icon td.data img:hover {
        opacity: 1.0 !important;
      }
      #sport-summary th {
        text-align: left;
        font-weight: normal;
        padding-right: 20px;
        text-align: right;
        padding: 3px;
      }
      #sport-summary .icon {
        margin: 0 15px;
      }
    </style>
  </head>
  <body ng-app>
    <div class="container-fluid">
      <div class="row-fluid centered" ng-controller="VisCalendar">
        <div class="span12 well">
          <!-- Sports -->
          <div class="choice">Filter by sport:</div>
          <span class="dropdown">
            <a id="selected-sport-filter" class="btn btn-primary" data-toggle="dropdown" href="#">
              {{sportFilter.name}}
            </a>
            <ul class="dropdown-menu">
              <li ng-repeat="sport in allSports">
                <a href="#" ng-click="setSportFilter(sport)">
                  <span>{{sport.name}}</span>
                </a>
              </li>
            </ul>
          </span>

          <!-- Time VS Distance -->
          <div class="choice">Analyze:</div>
          <div id="show-choice" class="btn-group">
            <button type="button" class="btn btn-primary"
                    ng-repeat="type in allDisplayTypes"
                    ng-class="{active: displayType.id == type.id}"
                    ng-click="setDisplayType(type)">
              <i class="icon-{{type.icon}} icon-white"></i> {{type.name}}
            </button>
          </div>
        </div>
      </div>
      <div class="row-fluid">
        <div class="span4 well">
          <table id="sport-summary">
            <tr class="icon">
              <th></th>
              <td class="data"></td>
            </tr>
            <tr class="sessions">
              <th><span class="text">Sessions <i class="icon icon-ok"></i></th>
              <td class="data"></td>
            </tr>
            <tr class="time">
              <th><span class="text">Time <i class="icon icon-time"></i></th>
              <td class="data"></td>
            </tr>
            <tr class="distance">
              <th><span class="text">Distance <i class="icon icon-road"></i></th>
              <td class="data"></td>
            </tr>
            <tr class="elevation">
              <th><span class="text">Elevation gain <i class="icon icon-chevron-up"></i></th>
              <td class="data"></td>
            </tr>
          </table>
        </div>
      </div>
      <div id="vis-calendar"></div>
    </div>

    <script type="text/javascript" src="/js/workouts.js"></script>
    <script type="text/javascript" src="/js/vis-calendar.js"></script>
  </body>
</html>
